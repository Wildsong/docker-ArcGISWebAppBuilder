version: "3.9"

networks:
  proxy:
    name: ${NETWORK_NAME}
    external: true

services:
  wabde:
    build:
      # This will be in the inventory as "wabde_wabde"
      context: .
      dockerfile: ./Dockerfile
    environment:
      - TZ=Americas/Los_Angeles
    ports:
      - 3344:3344
    volumes:
      - ./2.24:/srv
    # This saves me from having to reenter the API key
      - ./signininfo.json:/srv/server/signininfo.json
    command: ["node", "server.js", "-port=3344"]
    networks:
      proxy:
        aliases:
          - wabde
    restart: unless-stopped
