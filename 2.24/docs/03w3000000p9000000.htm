<!DOCTYPE html><html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><link href="rsrc/htmlhelp_simpletoc.css" rel="stylesheet" type="text/css"><title>
Best practices for unit testing
</title></head><!--Publication GUID: [GUID-E7D1C130-8F87-4109-8D61-E73A46083F52]--><!--Topic GUID: [GUID-39972B46-A018-4EEE-B37C-3B8E813A9788]--><body><div id="wrapper"><div class="pageheader"></div><div class="toc"><ol>
<li class='toc-title toc-level1'><h3>Get started</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001w000000.htm'>Welcome</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005r000000.htm'>Get started</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007n000000.htm'>Run as a Windows service</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000054000000.htm'>Build your first app</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000084000000.htm'>Requirements</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pt000000.htm'>Accessibility support</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001q000000.htm'>Development overview</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nm000000.htm'>About release versions</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000062000000.htm'>What's new</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004r000000.htm'>Frequently asked questions</a></li>
<li class='toc-title toc-level1'><h3>Working with apps</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000017000000.htm'>Home page</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003m000000.htm'>Create or import an app</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004m000000.htm'>Edit  and launch an app</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000025000000.htm'>Choose a theme</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002t000000.htm'>Select a map or scene</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000046000000.htm'>Add widgets</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000047000000.htm'>Widgets overview</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000044000000.htm'>Configure app attributes</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000036000000.htm'>Preview apps on smaller screens</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004s000000.htm'>Export as a template</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000072000000.htm'>Edit or preview template</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000079000000.htm'>Use URL parameters</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000060000000.htm'>Upgrade apps</a></li>
<li class='toc-title toc-level1'><h3>Configure 2D widgets</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000053000000.htm'>About widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009t000000.htm'>Add Data widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000061000000.htm'>Analysis widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001s000000.htm'>Attribute Table widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000074000000.htm'>Batch Attribute Editor widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003w000000.htm'>Basemap Gallery widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004n000000.htm'>Bookmark widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pw000000.htm'>Business Analyst widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004t000000.htm'>Chart widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000015000000.htm'>Controller widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003s000000.htm'>Coordinate widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n3000000.htm'>Coordinate Conversion widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n9000000.htm'>Cost Analysis widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p2000000.htm'>Data Aggregation widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003z000000.htm'>Directions widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p4000000.htm'>Distance and Direction widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008z000000.htm'>District Lookup widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000031000000.htm'>Draw widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000021000000.htm'>Edit widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p3000000.htm'>Emergency Response Guide widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m6000000.htm'>Extent Navigate widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009s000000.htm'>Filter widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mw000000.htm'>Full Screen widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000012000000.htm'>Geocoder widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006r000000.htm'>GeoLookup widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000029000000.htm'>Geoprocessing widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mp000000.htm'>Grid Overlay widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p5000000.htm'>Gridded Reference Graphic widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m3000000.htm'>Group Filter widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000073000000.htm'>Image Measurement widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000013000000.htm'>Home Button widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000063000000.htm'>Incident Analysis widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mv000000.htm'>Infographic widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000091000000.htm'>Info Summary widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000007000000.htm'>Layer List widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001r000000.htm'>Legend widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000043000000.htm'>Measurement widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003q000000.htm'>My Location widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000095000000.htm'>Near Me widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pv000000.htm'>Network Trace widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009r000000.htm'>Oblique Viewer widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000019000000.htm'>Overview Map widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n4000000.htm'>Parcel Drafter widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001p000000.htm'>Print widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nn000000.htm'>Public Notification  widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000z000000.htm'>Query widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000094000000.htm'>Related Table Charts widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000075000000.htm'>Report Feature widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000076000000.htm'>Reviewer Dashboard widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000032000000.htm'>Scalebar widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n1000000.htm'>Screening widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000065000000.htm'>Search widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009m000000.htm'>Select widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009n000000.htm'>Share widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000077000000.htm'>Situation Awareness widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m5000000.htm'>Smart Editor widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000050000000.htm'>Splash widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000064000000.htm'>Stream widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mm000000.htm'>Suitability Modeler widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000069000000.htm'>Summary widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005z000000.htm'>Swipe widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pp000000.htm'>Threat Analysis widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005t000000.htm'>Time Slider widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pq000000.htm'>Visibility widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006q000000.htm'>Zoom Slider widget</a></li>
<li class='toc-title toc-level1'><h3>Configure 3D widgets</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000080000000.htm'>3DFx widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008r000000.htm'>About widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000ms000000.htm'>Basemap Gallery widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000085000000.htm'>Compass widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000083000000.htm'>Coordinate widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007z000000.htm'>Daylight widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008p000000.htm'>Full Screen widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008s000000.htm'>Home Button widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007t000000.htm'>Layer List widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m7000000.htm'>Legend widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p7000000.htm'>Measurement widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008t000000.htm'>My Location widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007s000000.htm'>Navigate widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008n000000.htm'>Search widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p6000000.htm'>Share widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007v000000.htm'>Slides widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008v000000.htm'>Splash widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000008w000000.htm'>Zoom Slider widget</a></li>
<li class='toc-title toc-level1'><h3>Widget development</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n6000000.htm'>Get started</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002s000000.htm'>Naming conventions</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000034000000.htm'>In-panel and off-panel widgets</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000010000000.htm'>Deploy your widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001t000000.htm'>Required files</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000078000000.htm'>Widget manifest</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002n000000.htm'>Extend BaseWidget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000023000000.htm'>Required properties</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001n000000.htm'>Define the template</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004q000000.htm'>Configure the Demo widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000v000000.htm'>Add i18n support</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000024000000.htm'>Make widgets user-friendly</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000027000000.htm'>Build your first app</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003p000000.htm'>Communication to app container</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002v000000.htm'>Widget properties</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004p000000.htm'>Make widgets responsive</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001m000000.htm'>Communication between widgets</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000n000000.htm'>Dojo dijit</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003v000000.htm'>Make widgets configurable in builder</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000057000000.htm'>Make widgets backward compatible</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000070000000.htm'>Create a controller widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000066000000.htm'>Widget life cycle</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000096000000.htm'>Add help for your widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009v000000.htm'>Create a feature action in your widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mz000000.htm'>Provide and consume data sources in widgets</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p9000000.htm'>Best practices for unit testing</a></li>
<li class='toc-title toc-level1'><h3>Theme development</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000004000000.htm'>Theme elements</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000045000000.htm'>Create a  theme</a></li>
<li class='toc-title toc-level1'><h3>3D development</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007w000000.htm'>3D development guide</a></li>
<li class='toc-title toc-level1'><h3>Sample code</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000014000000.htm'>Create a custom in-panel widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n5000000.htm'>Create a ListView widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mn000000.htm'>Create a custom widget using the Report dijit</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m2000000.htm'>Create a new theme</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000092000000.htm'>Create a new style for a theme</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000093000000.htm'>Create a new default layout</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000090000000.htm'>Create a nondefault layout</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m4000000.htm'>Create a new panel</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000099000000.htm'>Create a new layout widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m0000000.htm'>Create a controller widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009v000000.htm'>Create a feature action in your widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000097000000.htm'>Send a layer to the Attribute Table widget</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000042000000.htm'>Open multiple widgets simultaneously</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000002000000.htm'>Use other   libraries</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000m000000.htm'>Change the URL of ArcGIS API for JavaScript</a></li>
<li class='toc-title toc-level1'><h3>Deployment</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004v000000.htm'>Deploy your app</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004z000000.htm'>Use proxy</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007q000000.htm'>Web-tier authentication</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000004w000000.htm'>Custom widget and theme deployment</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009q000000.htm'>Upgrade custom widgets and themes</a></li>
<li class='toc-title toc-level1'><h3>Framework reference</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006t000000.htm'>CSS framework</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000098000000.htm'>FeatureActionManager class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009z000000.htm'>FilterManager class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000071000000.htm'>LayerInfo class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006m000000.htm'>LayerInfos class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n8000000.htm'>LayerNode class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n7000000.htm'>LayerStructure class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000059000000.htm'>PanelManager class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m1000000.htm'>SelectionManager class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005p000000.htm'>Utils class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005m000000.htm'>WidgetManager class</a></li>
<li class='toc-title toc-level1'><h3>dijit</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006w000000.htm'>FeaturelayerChooserFromMap class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000055000000.htm'>FeaturelayerServiceBrowser class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009p000000.htm'>FeatureSetChooserForSingleLayer class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006p000000.htm'>Filter class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006s000000.htm'>ImageChooser class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000058000000.htm'>ItemSelector class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006n000000.htm'>LayerChooserFromMap class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005n000000.htm'>RendererChooser class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m8000000.htm'>Report class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mt000000.htm'>SnapShot class</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000056000000.htm'>SymbolChooser class</a></li>
<li class='toc-title toc-level1'><h3>JSON reference</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000016000000.htm'>App configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000p000000.htm'>Map configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000037000000.htm'>Widget configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000022000000.htm'>Widget pool configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000w000000.htm'>Widget on-screen configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000s000000.htm'>Panel configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000048000000.htm'>Group configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mr000000.htm'>DataSource configuration</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000052000000.htm'>About</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005q000000.htm'>Analysis</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000009000000.htm'>Attribute Table</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000011000000.htm'>Basemap Gallery</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000r000000.htm'>Bookmark</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000001z000000.htm'>Chart</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000018000000.htm'>Coordinate</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003r000000.htm'>Directions</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002m000000.htm'>Draw</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000028000000.htm'>Edit</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n0000000.htm'>Full Screen</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000006000000.htm'>Geocoder</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002w000000.htm'>Geoprocessing</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000002q000000.htm'>Controller</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000049000000.htm'>Home Button</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007p000000.htm'>Image Measurement</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000mq000000.htm'>Infographic</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000003n000000.htm'>Layer List</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000041000000.htm'>Legend</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006z000000.htm'>Loading Page</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000000q000000.htm'>Measurement</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000005000000.htm'>My Location</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000m9000000.htm'>Near Me</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000009w000000.htm'>Oblique Viewer</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000040000000.htm'>Overview Map</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000039000000.htm'>Print</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000026000000.htm'>Query</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007m000000.htm'>Report Feature</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000007r000000.htm'>Reviewer Dashboard</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000035000000.htm'>Scalebar</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000006v000000.htm'>Search</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000n2000000.htm'>Share</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000051000000.htm'>Splash</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000067000000.htm'>Stream</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005w000000.htm'>Swipe</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w30000005v000000.htm'>Time Slider</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w300000068000000.htm'>Zoom Slider</a></li>
<li class='toc-title toc-level1'><h3>What's new archive</h3></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000qm000000.htm'>What's new in version 2.23</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q9000000.htm'>What's new in version 2.22</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q8000000.htm'>What's new in version 2.21</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q7000000.htm'>What's new in version 2.20</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q6000000.htm'>What's new in version 2.19</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q5000000.htm'>What's new in version 2.18</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q4000000.htm'>What's new in version 2.17</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q3000000.htm'>What's new in version 2.16</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q2000000.htm'>What's new in version 2.15</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q1000000.htm'>What's new in version 2.14</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000q0000000.htm'>What's new in version 2.13</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pz000000.htm'>What's new in version 2.12</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000ps000000.htm'>What's new in version 2.11</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pr000000.htm'>What's new in version 2.10</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pn000000.htm'>What's new in version 2.9</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000pm000000.htm'>What's new in version 2.8</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p8000000.htm'>What's new in version 2.7</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nr000000.htm'>What's new in version 2.6</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p0000000.htm'>What's new in version 2.5</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nt000000.htm'>What's new in version 2.4</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000np000000.htm'>What's new in version 2.3</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nq000000.htm'>What's new in version 2.2</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nz000000.htm'>What's new in version 2.1</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000p1000000.htm'>What's new in version 2.0</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nw000000.htm'>What's new in version 1.3</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000nv000000.htm'>What's new in version 1.2</a></li>
<li class='toc-level1'><i>&#x02022;</i>&nbsp;<a href='03w3000000ns000000.htm'>What's new in version 1.1</a></li>
</ol></div><div id="content"><div class="header"><h1>
Best practices for unit testing
</h1></div>
<p id="GUID-F3BC4E1F-66F6-426D-A328-907160AFAE78">This workflow demonstrates the best way to create and run unit tests for <span purpose="ph" varid="wabshort">Web AppBuilder</span>. Widgets and utilities of <span purpose="ph" varid="wabshort">Web AppBuilder</span> are all written as Asynchronous Module Definition (AMD) modules. For this reason, this workflow uses <a target="_blank" class="xref" href="https://theintern.io/" rel="https://theintern.io/">Intern</a> as the testing framework, since it supports the Dojo loader. </p><div class="notes" id="GUID-BBED4EC1-3016-4A50-ACD8-12F131E9F48F"><div class="note"><img class="note_img" src="rsrc/note.png" alt="Note" title="Note"><span>Note:</span></div><div class="tipbody"><p id="GUID-7797DEFF-CADA-49C9-820B-08DBFF43600F">This workflow is based on Intern 4.1.5.</p></div></div><p id="GUID-DB5F5646-19DE-4C99-B9D2-ADC3173D0A5E">Use the following command to install Intern:  <span class="usertext">npm install intern --save-dev</span>. </p><div class="section1" id="GUID-B05AF8DF-2605-47BB-861B-D3EA2DC72D2F" purpose="section1"><h2>
Configure Intern
</h2><p id="GUID-A527F6E6-9EBC-4B18-93DE-C8E69B912C32">
Once you have installed Intern 4, you can run the Intern command under the project root using 
 <span class="usertext">node_modules\.bin\intern</span>. <div class="notes" id="GUID-D21A41AF-2BC9-4A40-907A-897BBC2A0855"><div class="tip"><img class="note_img" src="rsrc/tip.png" alt="Tip" title="Tip"><span>Tip:</span></div><div class="tipbody"><p id="GUID-1B761C41-2491-472E-BD68-213EBC2B1597">It's highly recommended to add a script in package.json:<div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>&quot;scripts&quot;: {
    &quot;test&quot;: &quot;intern&quot;,
    ...
</code></pre></div>
</div>Then you can run your unit tests by <span class="usertext">npm test</span>.</p></div></div></p><div class="section2" id="ESRI_SECTION2_7347F73D6A2647ABA63549A9B4A2AFFD" purpose="section2"><h3>dojoLoader.js</h3><p id="GUID-ECFE5B4F-1D47-4782-A2EF-A460FB18BE07">Intern includes scripts for the Dojo 1, Dojo 2, and SystemJS loaders. Use the Dojo loader included in <span purpose="ph" varid="ArcGISAPIforJavaScript">ArcGIS API for JavaScript</span> as the custom loader.  </p><div class="wfsteps" purpose="wfsteps"><div class="steps" id="GUID-AB63F172-F2D9-4329-B6A7-F685F4A94E16"><div class="step_title">Steps:</div><ol>
<li purpose="step" cid="f5alO" id="ESRI_STEP_D9CE9D160F734BEAA2B96FDBDE1B6AFD">
<span purpose="cmd">
Create a custom loader under the 
tests directory with the name <span class="usertext">dojoLoader.js</span>.</span>
<div class="info" purpose="info"><p id="GUID-17ADF5A2-F036-4AC6-AF2D-E6DAC0D0AB41">The code is copied from <span class="usertext">node_modules/intern/loaders/dojo.js</span>.</p></div></li><li purpose="step" id="ESRI_STEP_FC8750039B784FF088EAFE6B9EC8DDDA"><span purpose="cmd">Change the dojo.js URL from <span class="usertext">node_modules/dojo/dojo.js</span> to <span class="usertext">client/stemapp/arcgis-js-api/dojo/dojo.js</span>.</span><div class="info" purpose="info"><div class="notes" id="GUID-370C9450-02E5-4AA5-82C0-A80E7A79FA89"><div class="note"><img class="note_img" src="rsrc/note.png" alt="Note" title="Note"><span>Note:</span></div><div class="tipbody">If you receive a message saying module cannot be found. The solution is to use the default dojo loader provided by the intern. Use <span class="usertext">npm install dojo --save-dev</span> to install the dojo module. Open the intern.json configuration file and modify the script value to dojo.</div></div><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>&quot;use strict&quot;;
intern.registerLoader(function (options) {
  var globalObj = typeof window !== &#39;undefined&#39; ? window : global;
  options.baseUrl = options.baseUrl || intern.config.basePath;
  if (!(&#39;async&#39; in options)) {
      options.async = true;
  }
  intern.log(&#39;Configuring Dojo loader with:&#39;, options);
  globalObj.dojoConfig = options;
  return intern.loadScript(&#39;client/stemapp/arcgis-js-api/dojo/dojo.js&#39;).then(function () {
    var require = globalObj.require;
    intern.log(&#39;Using Dojo loader&#39;);
    return function (modules) {
      var handle;
      return new Promise(function (resolve, reject) {
        handle = require.on(&#39;error&#39;, function (error) {
          intern.emit(&#39;error&#39;, error);
          reject(new Error(&quot;Dojo loader error: &quot; + error.message));
        });
        intern.log(&#39;Loading modules:&#39;, modules);
        require(modules, function () {
          resolve();
        });
      }).then(function () {
        handle.remove();
      }, function (error) {
        handle &amp;&amp; handle.remove();
        throw error;
      });
    };
  });
});
</code></pre></div>
</div></div></li>
</ol></div></div></div><div class="section2" id="ESRI_SECTION2_ED091B0C6B3840F59C6A6298F4A201FE" purpose="section2"><h3>intern.json</h3><p id="GUID-1DD2C706-8B83-4201-B49B-6E8565FCAF8C">Intern is configured using a declarative JSON file. The default location for the configuration file is <span class="usertext">intern.json</span> in the project root. Since many components require DOM to run, it is preferable to run unit tests using Chrome WebDriver, managed by Selenium. Intern defaults to using the Selenium tunnel, making configuration efficient. </p><div class="wfsteps" purpose="wfsteps"><div class="steps" id="ESRI_STEPS_927218C815DF46209D1C9C5389A28962"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_C0A7C56247DC44EB88B91C92A9E6C062"><span purpose="cmd">Add the <span class="usertext">tunnelOptions</span> property:</span><div class="info" purpose="info"><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>{
  &quot;tunnelOptions&quot;: {
    &quot;drivers&quot;: [&quot;chrome&quot;]
  }
}
</code></pre></div>
</div><p id="GUID-16C628FA-E406-4A5E-996E-B312F5F7662A">For unit tests, there is no need to open a browser window to execute testing code. Intern can interact with Headless Chrome in the same way as regular Chrome. </p></div></li><li purpose="step" id="ESRI_STEP_D5498052DE4F4A0FB7563A51FC0A6E7A"><span purpose="cmd">Use the ChromeDriver to open a headless session by providing <span class="usertext">headless</span> and <span class="usertext">disable-gpu</span> arguments to ChromeDriver in an environment descriptor in the test configuration file.</span><div class="info" purpose="info"><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>&quot;environments&quot;: [{
  &quot;browserName&quot;: &quot;chrome&quot;,
  &quot;chromeOptions&quot;: {
    &quot;args&quot;: [&quot;headless&quot;, &quot;disable-gpu&quot;]
  }
}]
</code></pre></div>
</div></div></li><li purpose="step" id="ESRI_STEP_7ECD5152FBE74B17B5B7F3787CCC3341"><span purpose="cmd">For the final step, you need to configure the custom loader that includes Dojo and custom packages. After that, the configuration file looks like the following:</span><div class="info" purpose="info"><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>{
  &quot;suites&quot;: [&quot;tests/unit/all&quot;],
  &quot;tunnelOptions&quot;: {
    &quot;drivers&quot;: [&quot;chrome&quot;]
  },
  &quot;loader&quot;: {
    &quot;script&quot;: &quot;tests/dojoLoader.js&quot;,
    &quot;options&quot;: {
      &quot;async&quot;: true,
      &quot;tlmSiblingOfDojo&quot;: false,
      &quot;has&quot;: {
        &quot;extend-esri&quot;: 1
      },
      &quot;packages&quot;: [{
        &quot;name&quot;: &quot;dojo&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/dojo&quot;
      },{
        &quot;name&quot;: &quot;dijit&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/dijit&quot;
      }, {
        &quot;name&quot;: &quot;dojox&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/dojox&quot;
      }, {
        &quot;name&quot;: &quot;put-selector&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/put-selector&quot;
      }, {
        &quot;name&quot;: &quot;xstyle&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/xstyle&quot;
      }, {
        &quot;name&quot;: &quot;dgrid&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/dgrid&quot;
      }, {
        &quot;name&quot;: &quot;moment&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/moment&quot;
      }, {
        &quot;name&quot;: &quot;esri&quot;,
        &quot;location&quot;: &quot;client/stemapp/arcgis-js-api/esri&quot;
      }, {
        &quot;name&quot;: &quot;jimu&quot;,
        &quot;location&quot;: &quot;client/stemapp/jimu.js&quot;
      }, {
        &quot;name&quot;: &quot;themes&quot;,
        &quot;location&quot;: &quot;client/stemapp/themes&quot;
      }, {
        &quot;name&quot;: &quot;libs&quot;,
        &quot;location&quot;: &quot;client/stemapp/libs&quot;
      }, {
        &quot;name&quot;: &quot;dynamic-modules&quot;,
        &quot;location&quot;: &quot;client/stemapp/dynamic-modules&quot;
      }, {
        &quot;name&quot;: &quot;builder&quot;,
        &quot;location&quot;: &quot;client/builder&quot;
      }, {
        &quot;name&quot;: &quot;stemapp&quot;,
        &quot;location&quot;: &quot;client/stemapp&quot;
      }, {
        &quot;name&quot;: &quot;widgets&quot;,
        &quot;location&quot;: &quot;client/stemapp/widgets&quot;
      }, {
        &quot;name&quot;: &quot;sinon&quot;,
        &quot;location&quot;: &quot;node_modules/sinon/pkg&quot;,
        &quot;main&quot;: &quot;sinon&quot;
      }, {
        &quot;name&quot;: &quot;tests&quot;,
        &quot;location&quot;: &quot;tests&quot;
      }]
    }
  },
  &quot;environments&quot;: [{
    &quot;browserName&quot;: &quot;chrome&quot;,
    &quot;fixSessionCapabilities&quot;: &quot;no-detect&quot;,
    &quot;chromeOptions&quot;: {
      &quot;args&quot;: [&quot;headless&quot;, &quot;disable-gpu&quot;]
    }
  }]
}
</code></pre></div>
</div></div></li></ol></div></div></div></div>


<div class="section1" id="ESRI_SECTION1_E3DF74143D484EF291FDC925D7A96512" purpose="section1"><h2>File structure</h2><p id="GUID-FCEC8D05-686C-454C-8723-06248D5BFD83">Organize the files for unit testing as detailed below.</p><div class="section2" id="ESRI_SECTION2_C7446EF39C324B509F17D5E6468BCEDB" purpose="section2"><h3>Widgets and themes</h3><p id="GUID-1E0599F8-17DA-429C-883C-0661B67EBBF5">When testing for each widget and theme, double-check that the tests directory is placed in the same folder as other resources. Each widget's tests directory should contain a file named all.js that includes all test suites for this widget.</p><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>define([
  &#39;./utils&#39;,
  &#39;./ComponentA&#39;
], function() {});
</code></pre></div>
</div><p id="GUID-CEF1060A-E9D4-47C5-B179-AB11F4597617">There is a file named all_tests.js that includes all tests of widgets. The content of the all.js file is as follows:</p><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>define([
  &#39;./Analysis/tests/all&#39;,
  &#39;./Infographic/tests/all&#39;
], function() {});
</code></pre></div>
</div></div><div class="section2" id="ESRI_SECTION2_A7F485F18EF940BD991685989D427713" purpose="section2"><h3>Jimu</h3><p id="GUID-4E3089B9-FBFB-40E6-989E-61A5787B71A2">Unit tests for jimu are placed in  <span class="usertext">tests/unit/client/jimu</span>.</p></div><div class="section2" id="ESRI_SECTION2_073F819640C24B9D9A614BD0F0471DA6" purpose="section2"><h3>All unit tests</h3><p id="GUID-22C8A492-2606-4AE1-B3D9-4E392E653BEE">You can find all unit tests in <span class="usertext">tests/unit/client/jimu</span>.</p><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>define([
	&#39;../../client/builder/tests/all&#39;,
	&#39;../../client/stemapp/widgets/all_tests&#39;,
	&#39;./client/jimu/all&#39;
], function() {});
</code></pre></div>
</div><div class="wfsteps" purpose="wfsteps"><div class="steps" id="ESRI_STEPS_86451089BA914926B19F77E65A0C5481"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_387415BEF5C84B0781368C37B42719F9"><span purpose="cmd">Add the following file to the <span class="usertext">suites</span> property in the <span class="usertext">intern.json</span> configuration for all tests to be included (widgets, jimu, and builder).</span><div class="info" purpose="info"><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>{
  &quot;suites&quot;: [&quot;tests/unit/all&quot;],
  ...
</code></pre></div>
</div></div></li></ol></div></div></div></div><div class="section1" id="ESRI_SECTION1_814542F5CE35422F9A819AF94C312FFF" purpose="section1"><h2>Write tests</h2><p id="GUID-864B7F75-68F4-4AF9-80DE-06F2B5948D09">Follow these steps to write a unit test:</p><div class="wfsteps" purpose="wfsteps"><div class="steps" id="ESRI_STEPS_8FD78E086DB045DDAC9C769FF7E8A5B0"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_BA94DCF97AFC41DFB55160DAF00CB0D4"><span purpose="cmd">Get the assertion instance and test interface from the global variable <span class="usertext">intern</span>. </span><div class="info" purpose="info"><p id="GUID-10E3ACED-058D-4D6B-8EBC-8720C5257F24">See lines 1 and 2 in the code example below.</p></div></li><li purpose="step" id="ESRI_STEP_B425624B2F33466C80695AE9EE9189AC"><span purpose="cmd">Run your unit test with your own module. Use define syntax as you write your own module. </span><div class="info" purpose="info"><p id="GUID-989EC80B-2CF5-49F6-8D88-A6D06035C24D">See lines 3 through 7 in the code example below.</p></div></li><li purpose="step" id="ESRI_STEP_5D1FE7C80DEE4062803BA5A1F8FBE956"><span purpose="cmd">Write the unit test.</span><div class="info" purpose="info"><p id="GUID-7C3197CC-B6EF-4441-A40A-04985B59BBDD">The <span purpose="ph" varid="wabshort">Web AppBuilder</span> team uses Object, which is the default interface  of Intern to write tests. The  <span purpose="ph" varid="wabshort">Web AppBuilder</span> team also uses the assert style of chai as the assertion library.</p><p id="GUID-190032E4-B301-48EA-8EDA-8E62FCBEA01B">A simple test is shown below. For more information on how to write tests, refer to the <a class="xref" href="03w30000006t000000.htm" rel="03w30000006t000000.htm">Writing tests</a> page from the Intern website.</p><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>//1. Get the assertion instance and test interface from the global variable `intern`.
var assert = intern.getPlugin(&#39;chai&#39;).assert;
var registerSuite = intern.getInterface(&#39;object&#39;).registerSuite;


define([
  // 2. Require necessary modules to run your unit test. Use `define` syntax as you write your own module.
  &#39;dojo/_base/config&#39;,
  &#39;jimu/utils&#39;, 
  &#39;./globals&#39;
], function(dojoConfig, utils) {
  //3. Write unit test.
  registerSuite(&#39;test-jimu-utils&#39;, {
    &#39;testReplace1&#39;: function() {
      var o1 = {
          a: 1,
          b: 2
        },
        p = {},
        o2;
      o2 = utils.replacePlaceHolder(o1, p);
      assert.deepEqual(o1, o2);
    }
  });
});
</code></pre></div>
</div></div></li></ol></div></div></div><div class="section1" id="ESRI_SECTION1_154C20A4C35648B98D1E333FC0DF1253" purpose="section1"><h2>Run tests</h2><p id="GUID-7567FCA3-1D72-4256-AFFD-AD048D9E801C">Complete the following steps to run your tests:</p><div class="wfsteps" purpose="wfsteps"><div class="steps" id="ESRI_STEPS_9DE5415189C14CD5B5FB326007B98D5B"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_EEBAED9F79D84FA885DC05CFF5C21703"><span purpose="cmd">Run all unit tests: <span class="usertext">npm tests</span></span></li><li purpose="step" id="ESRI_STEP_A5EA30E3CEDC483A8F7870577B666E2A"><span purpose="cmd">Run specified unit tests: <span class="usertext">npm test
suites=tests/unit/client/jimu/test-utils</span></span><div class="info" purpose="info"><div class="notes" id="GUID-A34EDC55-E57E-4EB4-9D3C-8F5AB558498D"><div class="note"><img class="note_img" src="rsrc/note.png" alt="Note" title="Note"><span>Note:</span></div><div class="tipbody"><p id="GUID-92C46563-3D30-4F6E-BF40-8932D5C7FDAD">Don't include the <span class="usertext">.js</span> suffix when you run a single suite.</p><p id="GUID-2F042E00-DCCE-4DBD-962D-658A6A023D73">You can provide multiple suite parameters to run several test suites using
one command.</p></div></div></div></li></ol></div></div></div><div class="section1" id="ESRI_SECTION1_0CAB7FF5F74B4166836B9E2C6706B72A" purpose="section1"><h2>Reporter</h2><p id="GUID-37544C27-5023-4981-AB44-6660C1F4DB27">The <span purpose="ph" varid="wabshort">Web AppBuilder</span> team uses Jenkins as its continuous integration solution. To integrate with Jenkins, use the <span class="usertext">junit</span> reporter and enable the <span class="uicontrol">Publish JUnit test result report</span> postbuild action for the best display of the test results:</p><p id="GUID-B638F47E-3187-4BA8-A99A-F3D23B70CE42"><span class="usertext">npm test reporters=junit &gt;
tests/junitReport.xml</span></p></div><div class="footer"> Copyright Â© 1995-2022 Esri. All rights reserved. </div></div></div></body></html>