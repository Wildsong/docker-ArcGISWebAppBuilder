// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/sniff dojo/_base/window dojo/dom dojo/dom-geometry dojo/dom-style dojo/Evented dojo/on dojo/touch dojo/dnd/common dojo/dnd/autoscroll".split(" "),function(p,q,h,f,r,t,k,u,v,g,l,w,m){f.add("ie11",function(){var a=-1,b="",c=null;"Microsoft Internet Explorer"===navigator.appName?(b=navigator.userAgent,c=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==c.exec(b)&&(a=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(b=navigator.userAgent,c=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,
null!==c.exec(b)&&(a=parseFloat(RegExp.$1)));return a});return q("dojo.dnd.Mover",[v],{constructor:function(a,b,c){function d(e){e.preventDefault();e.stopPropagation()}this.node=t.byId(a);this.marginBox={l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[g(a,l.move,h.hitch(this,"onFirstMove")),g(a,l.move,h.hitch(this,"onMouseMove")),g(a,l.release,h.hitch(this,"onMouseUp")),g(a,"dragstart",d),g(a.body,"selectstart",d)];m.autoScrollStart(a);if(b&&b.onMoveStart)b.onMoveStart(this)},
onMouseMove:function(a){m.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){var b=f("webkit")&&f("mac")&&2===this.mouseButton,c=(f("ie")||f("ie11"))&&-1===this.mouseButton;(b||c?0===a.button:this.mouseButton===a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,c=this.host;switch(b.position){case "relative":case "absolute":var d=Math.round(parseFloat(b.left))||
0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=k.getMarginBox(this.node);d=r.doc.body;var e=u.getComputedStyle(d),n=k.getMarginBox(d,e);e=k.getContentBox(d,e);d=b.l-(e.l-n.l);b=b.t-(e.t-n.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(c&&c.onFirstMove)c.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){p.forEach(this.events,function(b){b.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=
this.host=null}})});